=pod

=head1 NAME

SSL_CTX_share_session_cache - enable sharing of session cache

=head1 SYNOPSIS

 #include <openssl/ssl.h>

 int SSL_CTX_share_session_cache(SSL_CTX *a, SSL_CTX *b);

=head1 DESCRIPTION

SSL_CTX_share_session_cache() function releases the session list of B<b> and
then sets the session list to be the same as B<a>. Both SSL_CTX objects
then share and modify the same session list.

=head1 NOTES

The sessions lists are stored in their own reference-counted object. When
an SSL_CTX is created, it has its own session list. This function releases
the session list of the second argument SSL_CTX B<b> and has B<b> reference
the session list of SSL_CTX B<a>.

In the following example:

 SSL_CTX_share_session_cache(b, c);
 SSL_CTX_share_session_cache(a, b);

The result of this is that B<c>'s initial session list is freed, and references
B<b>'s initial session list. B<b> and B<a> both reference B<a>'s initial
session list.

There is no way to undo this; a new SSL_CTX should be created instead.

=head1 RETURN VALUES

This function returns 1 on success and 0 on failure.

=head1 SEE ALSO

L<ssl(3)>,
L<SSL_set_session(3)>,
L<SSL_session_reused(3)>,
L<SSL_CTX_add_session(3)>,
L<SSL_CTX_sess_number(3)>,
L<SSL_CTX_sess_set_cache_size(3)>,
L<SSL_CTX_sess_set_get_cb(3)>,
L<SSL_CTX_set_session_id_context(3)>,
L<SSL_CTX_set_timeout(3)>,
L<SSL_CTX_flush_sessions(3)>,
L<SSL_CTX_get_session_cache_mode(3)>

=head1 COPYRIGHT

Copyright 2000-2016 The OpenSSL Project Authors. All Rights Reserved.

Licensed under the OpenSSL license (the "License").  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file LICENSE in the source distribution or at
L<https://www.openssl.org/source/license.html>.

Copyright (C) 2016 Akamai Technologies. ALL RIGHTS RESERVED.

This code was originally developed by Akamai Technologies and
contributed to the OpenSSL project under the terms of the Corporate
Contributor License Agreement v1.0

=cut
